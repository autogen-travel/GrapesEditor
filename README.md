# grapes-editor

Визуальный редактор на основе библиотеки GrapesJS (https://grapesjs.com)
Может конфликтовать с mootools, можно отключить в конфигурации EvoCMS (Enable Mootools in manager = Нет)

Настройки:
- Ссылка на CSS стили - укажите путь к CSS файлу (файлам, через запятую), которые используются на сайте. Для того, чтобы в редакторе видеть тоже, что и на самом сайте.
- Ширина базового контейнера - ширина сайта, чтобы не растягивать редактор
- Высота конструктора - убодная высота контейнера для отображения редактора в админке


Возможности:
- Создание собственных HTML-блоков
- Базовые CSS-стили (размеры, выравнивание, цвет текста, фон, тень, отступы)
- Фотографии кропятся при выводе до указанных размеров. Если подключена библиотека Fancybox, то в настройках фотографии можно поставить чекбокс Fancybox - тогда фото будет кликабельно.
- Изменение размеров фотографий может глючить (скачет курсор). Это связано с тем, что Evo использует вкладки в iframe, а для работы редактора также требуется iframe. Получается iframe внутри iframe. В полноэкранном режиме этой проблемы нет.

TODO:
- [x] собрать стили и выводить в head (сейчас стили пишутся там же, где и вывод html, поэтому могут быть задержки рендеринга)
- [ ] разобраться с js-плагинами. Например слайдеры swiper/slick. Базовые варианты сделать несложно, но как их кастомизировать под дизайн потом...
- [ ] есть еще возможность сделать "режим дизайнера", когда блоки можно передвигать, используя абсолютное позиционирование (absolute или translate). Но это вполне подходит под конструирование страницы целиком, а не блоком. Т.к. нужно будет указывать конкретную высоту для блока с абсолютным позиционированием.